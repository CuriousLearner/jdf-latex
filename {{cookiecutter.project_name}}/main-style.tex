\documentclass[letterpaper,12pt]{article}

% Crimson Text and fancy text stuff (like pasting unicode into your .tex file)
\usepackage{crimson}
\usepackage[T1]{fontenc}
% \usepackage{fontspec}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

% Customize page, text, section headings, and quotes
\usepackage[margin=1.5in]{geometry}
\usepackage{titlesec}
\usepackage{setspace}
\usepackage[begintext=``,vskip=\partopsep,leftmargin=0.5in,rightmargin=0.5in]{quoting}

% runin: make the abstract heading be part of the paragraph.
\usepackage[runin]{abstract}

% First, make footnotes flush w/ the bottom of the page even if there's some
% remnant whitespace. Second, I like my footnotes to be clickable to get to
% their original location in the text.
\usepackage[bottom]{footmisc}
\usepackage{footnotebackref}

\usepackage{graphicx}
\usepackage{xcolor}

% Caption requirements
\usepackage[
  tableposition=top,
  figureposition=bottom,
  font=footnotesize,
  labelfont=bf
]{caption}
\captionsetup{justification=centering}

\usepackage{float}      % better figures
\usepackage{enumitem}   % better lists
\usepackage{fancyhdr}   % better headers/footers
\usepackage{hyperref}   % better links

% Make math prettier
\usepackage{amsmath}
\usepackage{amssymb}

% Use APA citation format
\usepackage[natbibapa]{apacite}
\usepackage{natbib}
\setlength\bibhang{0.5in}

{% raw %}
% Remove the comma between authors and years.
\AtBeginDocument{%
  \renewcommand{\BBAY}{}%% punctuation between authors and year
  % \renewcommand{\BBN}{: }%% punctuation between year and page number
  \renewcommand{\BBYY}{; }%% punctuation between multiple years
}

% Main body spacing
\setstretch{1.15}

% Abstract margins and style
\setlength{\absparindent}{0em}
\setlength{\absleftindent}{0.5in}
\setlength{\absrightindent}{0.5in}
\setlength{\abstitleskip}{-\absparindent}
\renewcommand{\abstracttextfont}{\normalfont}
\abslabeldelim{.}

% Paragraph indentation
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

% Level 1
\titleformat{\section}
  {\normalfont\fontsize{18}{0}\bfseries}
  {\thesection}{1em}{}

% Level 2
\titleformat{\subsection}
  {\normalfont\fontsize{14}{0}\bfseries}
  {\thesection}{1em}{}

% Level 3
\titleformat{\subsubsection}
  {\normalfont\fontsize{12}{0}\bfseries}
  {\thesection}{1em}{}

% Level 4
\titleformat{\paragraph}
  {\normalfont\fontsize{12}{0}\bfseries\itshape}
  {\theparagraph}{1em}{}

% Level 5
\titleformat{\subparagraph}
  {\normalfont\fontsize{12}{0}\itshape}
  {\theparagraph}{1em}{}

\titlespacing*{\section}{0pt}{12pt}{6pt}
\titlespacing*{\subsection}{0pt}{12pt}{6pt}
\titlespacing*{\subsubsection}{0pt}{12pt}{6pt}
\titlespacing*{\paragraph}{0pt}{12pt}{6pt}
\titlespacing*{\subparagraph}{0pt}{12pt}{6pt}
\titlespacing*{\subsubparagraph}{0pt}{12pt}{6pt}

% Just have the page number in the top-right as tightly as possible.
\renewcommand{\headrulewidth}{0pt}
\fancyhf{}
\rhead{\thepage}
\pagestyle{fancy}

% Overwrite the title format, specifying font sizes and tightening space between
% the title text and the author.
%
% TODO: Make the spacing between lines a little bigger; things are too tight.
\makeatletter
\renewcommand{\maketitle}{\bgroup
   \begin{center}
   \textbf{{\fontsize{18pt}{20}\selectfont \@title}}
   \vspace{10pt}
   {\fontsize{12pt}{0}\selectfont \@author}
   \end{center}
}
\makeatother

% A pleasant blue to use for links.
\definecolor{ballblue}{HTML}{2ea3f2}

% Set a 0.5in margin for lists.
\setlist{leftmargin=0.5in}
\setlength\itemsep{0pt}

% Custom commands: superscript, subscript, and URL.
\newcommand{\super}[1]{$^{\text{#1}}$}
\newcommand{\subsc}[1]{$_{\text{#1}}$}
\newcommand{\link}[2]{\href{#1}{\underline{#2}}}

% Custom \authoremail command that adds a clickable email
\newcommand{\authoremail}[2]{\author{#1\\\link{mailto:#2}{#2}}}

% Custom command for inline code-style
\usepackage{courier}
\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.95}
\newcommand{\code}[1]{\colorbox{light-gray}{\texttt{#1}}}

% Sets up some nice PDF metadata
\hypersetup{
  pdftitle={},    % whatever your title is, or some shorter version
  pdfauthor={},   % your name, probably
  pdfsubject={},  % tags or a subject
  % bookmarks=true,
  % bookmarksopen=true,
  pdfpagemode=UseOutlines,
  colorlinks,
  citecolor=ballblue,
  urlcolor=ballblue,
  linkcolor=ballblue
}
{% endraw %}
